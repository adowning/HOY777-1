<template>
    <div
        class="absolute bottom-0 left-0 h-[33px] w-[36px] p-px transition-all"
        :class="{
            'drop-shadow-[0px_0px_10px_#01ce53]': state === 'won',
            'drop-shadow-[0px_0px_10px_rgba(255,255,255,0.96)]': active,
        }"
        style="transform: translate(-13px, 15px);"
    >
        <div
            class="absolute inset-0 h-full w-full [clip-path:polygon(7px_0,calc(100%-7px)_0,100%_25%,100%_75%,calc(100%-7px)_100%,7px_100%,0_75%,0_25%)]"
            :class="state === 'lose' ? 'bg-gradient-to-b from-red-700/0 to-red-700' : 'bg-gradient-to-b from-green-500/0 to-green-500'"
        ></div>

        <div
            class="relative flex h-full w-full items-center justify-center [clip-path:polygon(7px_0,calc(100%-7px)_0,100%_25%,100%_75%,calc(100%-7px)_100%,7px_100%,0_75%,0_25%)]"
            :class="{
                'bg-[#023b33]': state !== 'lose',
                'bg-[#422727]': state === 'lose'
            }"
        >
            <span v-if="state === '' || state === undefined" class="text-[18px] font-semibold text-white">{{ value }}</span>
            <svg v-if="state === 'won'" width="16" height="16" class="fill-current text-[#0dd4b1]" viewBox="0 0 16 16"><path d="M15.2 0.8H12.8V0H3.2V0.8H0.8C0.32 0.8 0 1.12 0 1.6V3.52C0 5.36 1.36 6.88 3.2 7.12V7.2C3.2 9.52 4.8 11.44 6.96 11.92L6.4 13.6H4.56C4.24 13.6 3.92 13.84 3.84 14.16L3.2 16H12.8L12.16 14.16C12.08 13.84 11.76 13.6 11.44 13.6H9.6L9.04 11.92C11.2 11.44 12.8 9.52 12.8 7.2V7.12C14.64 6.88 16 5.36 16 3.52V1.6C16 1.12 15.68 0.8 15.2 0.8ZM3.2 5.52C2.32 5.28 1.6 4.48 1.6 3.52V2.4H3.2V5.52ZM9.6 8L8 7.12L6.4 8L6.8 6.4L5.6 4.8H7.28L8 3.2L8.72 4.8H10.4L9.2 6.4L9.6 8ZM14.4 3.52C14.4 4.48 13.68 5.36 12.8 5.52V2.4H14.4V3.52Z"/></svg>
            <svg v-if="state === 'lose'" width="16" height="17" class="fill-current text-[#ef4949]" viewBox="0 0 16 17"><path d="M8.00098 0.672668C3.58998 0.672668 0.000976562 4.26167 0.000976562 8.67267C0.000976562 13.0837 3.58998 16.6727 8.00098 16.6727C12.412 16.6727 16.001 13.0837 16.001 8.67267C16.001 4.26167 12.412 0.672668 8.00098 0.672668ZM4.00098 6.67267C4.00098 6.12167 4.44998 5.67267 5.00098 5.67267C5.55198 5.67267 6.00098 6.12167 6.00098 6.67267C6.00098 7.22367 5.55198 7.67267 5.00098 7.67267C4.44998 7.67267 4.00098 7.22367 4.00098 6.67267ZM11.536 12.8447C11.438 12.9427 11.31 12.9907 11.182 12.9907C11.054 12.9907 10.926 12.9417 10.828 12.8447C9.31598 11.3327 6.68198 11.3327 5.17098 12.8447C4.97598 13.0397 4.65898 13.0397 4.46398 12.8447C4.26898 12.6497 4.26898 12.3327 4.46398 12.1377C5.40998 11.1937 6.66498 10.6727 8.00098 10.6727C9.33698 10.6727 10.592 11.1937 11.536 12.1377C11.731 12.3327 11.731 12.6497 11.536 12.8447ZM11.001 7.67267C10.45 7.67267 10.001 7.22367 10.001 6.67267C10.001 6.12167 10.45 5.67267 11.001 5.67267C11.552 5.67267 12.001 6.12167 12.001 6.67267C12.001 7.22367 11.552 7.67267 11.001 7.67267Z"/></svg>
        </div>
    </div>
</template>

<script setup lang="ts">
defineProps<{
  value: number;
  state?: 'won' | 'lose' | '';
  active?: boolean;
}>();
</script>
